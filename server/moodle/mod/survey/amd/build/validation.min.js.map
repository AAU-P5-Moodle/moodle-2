{"version":3,"file":"validation.min.js","sources":["../src/validation.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\r\n//\r\n// Moodle is free software: you can redistribute it and/or modify\r\n// it under the terms of the GNU General Public License as published by\r\n// the Free Software Foundation, either version 3 of the License, or\r\n// (at your option) any later version.\r\n//\r\n// Moodle is distributed in the hope that it will be useful,\r\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n// GNU General Public License for more details.\r\n//\r\n// You should have received a copy of the GNU General Public License\r\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\r\n\r\n/**\r\n * Javascript to handle survey validation.\r\n *\r\n * @module     mod_survey/validation\r\n * @copyright  2017 Dan Poltawski <dan@moodle.com>\r\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\r\n * @since      3.3\r\n */\r\nimport {get_string as getString} from 'core/str';\r\nimport Notification from 'core/notification';\r\n\r\n/**\r\n * Prevents form submission until all radio buttons are chosen, displays\r\n * modal error if any choices are missing.\r\n *\r\n * @param {String} formid HTML id of form\r\n */\r\nexport const ensureRadiosChosen = (formid) => {\r\n    const form = document.getElementById(formid);\r\n    form.addEventListener('submit', (e) => {\r\n        const optionsToSet = form.querySelectorAll('input[type=\"radio\"][data-survey-default=\"true\"]:checked');\r\n        if (optionsToSet.length !== 0) {\r\n            Notification.alert(\r\n                getString('error'),\r\n                getString('questionsnotanswered', 'survey'),\r\n                getString('ok'),\r\n            );\r\n            e.preventDefault();\r\n        }\r\n    });\r\n};\r\n"],"names":["e","_notification","__esModule","default","_exports","ensureRadiosChosen","formid","form","document","getElementById","addEventListener","querySelectorAll","length","Notification","alert","getString","get_string","preventDefault"],"mappings":"iHAwB6C,IAAAA;;;;;;;;gGAA7CC,eAA6CD,EAA7CC,gBAA6CD,EAAAE,WAAAF,EAAAG,CAAAA,QAAAH,GAqB3CI,SAAAC,mBAbiCC,SAC/B,MAAMC,KAAOC,SAASC,eAAeH,QACrCC,KAAKG,iBAAiB,UAAWV,IAED,IADPO,KAAKI,iBAAiB,2DAC1BC,SACbC,cAAYV,QAACW,OACT,EAAAC,iBAAU,UACV,EAAAA,KAAAA,YAAU,uBAAwB,WAClC,EAAAA,KAASC,YAAC,OAEdhB,EAAEiB,iBACN,GACF,CACJ"}
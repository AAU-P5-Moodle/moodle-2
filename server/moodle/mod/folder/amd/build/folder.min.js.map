{"version":3,"file":"folder.min.js","sources":["../src/folder.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\r\n//\r\n// Moodle is free software: you can redistribute it and/or modify\r\n// it under the terms of the GNU General Public License as published by\r\n// the Free Software Foundation, either version 3 of the License, or\r\n// (at your option) any later version.\r\n//\r\n// Moodle is distributed in the hope that it will be useful,\r\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\n// GNU General Public License for more details.\r\n//\r\n// You should have received a copy of the GNU General Public License\r\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\r\n\r\n/**\r\n * Javascript helper function for Folder module\r\n *\r\n * @module     mod_folder/folder\r\n * @copyright  2009 Petr Skoda  {@link http://skodak.org}\r\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\r\n */\r\n\r\nimport YUI from 'core/yui';\r\n\r\nexport const initTree = (id, expandAll) => {\r\n    YUI.use('yui2-treeview', 'node-event-simulate', function(Y) {\r\n        var tree = new Y.YUI2.widget.TreeView(id);\r\n\r\n        tree.subscribe(\"clickEvent\", function() {\r\n            // we want normal clicking which redirects to url\r\n            return false;\r\n        });\r\n\r\n        tree.subscribe(\"enterKeyPressed\", function(node) {\r\n            // We want keyboard activation to trigger a click on the first link.\r\n            Y.one(node.getContentEl()).one('a').simulate('click');\r\n            return false;\r\n        });\r\n\r\n        if (expandAll) {\r\n            tree.expandAll();\r\n        } else {\r\n            // Else just expand the top node.\r\n            tree.getRoot().children[0].expand();\r\n        }\r\n\r\n        tree.render();\r\n    });\r\n};\r\n"],"names":["e","_yui","__esModule","default","_exports","initTree","id","expandAll","YUI","use","Y","tree","YUI2","widget","TreeView","subscribe","node","one","getContentEl","simulate","getRoot","children","expand","render"],"mappings":"2EAuB2B,IAAAA;;;;;;;sFAA3BC,MAA2BD,EAA3BC,OAA2BD,EAAAE,WAAAF,EAAAG,CAAAA,QAAAH,GA0BzBI,SAAAC,SAxBsBA,CAACC,GAAIC,aACzBC,KAAGL,QAACM,IAAI,gBAAiB,uBAAuB,SAASC,GACrD,IAAIC,KAAO,IAAID,EAAEE,KAAKC,OAAOC,SAASR,IAEtCK,KAAKI,UAAU,cAAc,WAEzB,OAAO,CACX,IAEAJ,KAAKI,UAAU,mBAAmB,SAASC,MAGvC,OADAN,EAAEO,IAAID,KAAKE,gBAAgBD,IAAI,KAAKE,SAAS,UACtC,CACX,IAEIZ,UACAI,KAAKJ,YAGLI,KAAKS,UAAUC,SAAS,GAAGC,SAG/BX,KAAKY,QACT,GAAE,CACJ"}
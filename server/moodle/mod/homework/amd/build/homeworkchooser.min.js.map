{"version":3,"file":"homeworkchooser.min.js","sources":["../src/homeworkchooser.js"],"sourcesContent":["import $ from 'jquery';\r\nimport Ajax from 'core/ajax';\r\nimport MyModal from 'mod_homework/modal_homework';\r\nimport ModalEvents from 'core/modal_events';\r\n\r\n/**\r\n * Homework/amd/src/modal_homework.js\r\n *\r\n * @package\r\n * @copyright 2024, cs-24-sw-5-01 <cs-24-sw-5-01@student.aau.dk>\r\n * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\r\n *\r\n */\r\n\r\n/**\r\n * Initializes the Homework Chooser Modal.\r\n * @param {int} cmid\r\n * @param {string} title\r\n * @param {int} currentHomework\r\n * @returns {Promise<void>}\r\n */\r\nexport const init = async(cmid, title, currentHomework) => {\r\n    $('#open-homework-chooser').on('click', () => {\r\n        Ajax.call([{\r\n            methodname: 'mod_homework_get_homework_chooser',\r\n            args: {cmid: cmid},\r\n            done: async function(response) {\r\n                const modal = await MyModal.create({\r\n                    title: title,\r\n                    body: `${response.html}`,\r\n                    large: true,\r\n                    removeOnClose: true\r\n                });\r\n\r\n\r\n                // Initialize elements once the modal content is rendered.\r\n                modal.getRoot().on(ModalEvents.shown, () => {\r\n                    // Initialize the elements after modal is displayed.\r\n                    const startPageInput = modal.getRoot().find('#startPage')[0];\r\n                    const endPageInput = modal.getRoot().find('#endPage')[0];\r\n                    const radioButtons = modal.getRoot().find('input[name=\"option\"]');\r\n                    const testTextarea = modal.getRoot().find('#page-range-input')[0];\r\n                    const testLink = modal.getRoot().find('#linkDiv')[0];\r\n\r\n                    // Attach event listeners for page input validation.\r\n                    startPageInput.addEventListener('input', validatePageRange);\r\n                    endPageInput.addEventListener('input', validatePageRange);\r\n\r\n                    // Attach event listeners for radio buttons.\r\n                    radioButtons.each((_, radio) => {\r\n                        radio.addEventListener('change', toggleInputs);\r\n                    });\r\n\r\n                    // Function to validate page range.\r\n                    /**\r\n                     *\r\n                     */\r\n                    function validatePageRange() {\r\n                        const startPage = parseInt(startPageInput.value, 10);\r\n                        const endPage = parseInt(endPageInput.value, 10);\r\n\r\n                        if (endPageInput.value !== \"\" && startPageInput.value !== \"\") {\r\n                            if (endPage < startPage) {\r\n                                endPageInput.setCustomValidity(\"End Page must be greater than or equal to Start Page\");\r\n                            } else {\r\n                                endPageInput.setCustomValidity(\"\"); // Clear error message if valid\r\n                            }\r\n                        } else {\r\n                            endPageInput.setCustomValidity(\"\"); // Clear error if either field is empty\r\n                        }\r\n                    }\r\n\r\n                    // Function to toggle between text and link inputs.\r\n                    /**\r\n                     *\r\n                     */\r\n                    function toggleInputs() {\r\n                        if (document.getElementById(\"option1\").checked) {\r\n                            testTextarea.style.display = \"block\";\r\n                            testLink.style.display = \"none\";\r\n                        } else if (document.getElementById(\"option2\").checked) {\r\n                            testTextarea.style.display = \"none\";\r\n                            testLink.style.display = \"block\";\r\n                        }\r\n                    }\r\n                });\r\n\r\n                // Show the modal.\r\n                await modal.show();\r\n\r\n                // Attach event listeners for buttons\r\n                modal.getRoot().on('click', '[data-action=\"submit\"]', (e) => {\r\n                    e.preventDefault();\r\n                    handleFormSubmit(modal, currentHomework);\r\n                });\r\n\r\n                modal.getRoot().on('click', '[data-action=\"cancel\"]', (e) => {\r\n                    e.preventDefault();\r\n                    modal.destroy();\r\n                });\r\n            },\r\n            fail: (error) => {\r\n                throw new Error(`Failed to load homework chooser content: ${error}`);\r\n            }\r\n        }]);\r\n    });\r\n};\r\n\r\n/**\r\n * Handles form submission inside the modal.\r\n *\r\n * @param {Modal} modal - The instance of the modal containing the form.\r\n * @param currentHomework - The id of the homework which is being edited.\r\n */\r\nconst handleFormSubmit = (modal, currentHomework) => {\r\n    let inputField = modal.getRoot().find('#inputField')[0];\r\n\r\n    if (inputField.value === \"\") {\r\n        inputField.setCustomValidity(\"Please fill in the input field.\");\r\n        inputField.reportValidity(); // Shows the custom message\r\n        event.preventDefault(); // Prevents form submission\r\n    } else {\r\n        inputField.setCustomValidity(\"\"); // Clear the custom message\r\n    }\r\n\r\n    if (modal.getRoot().find('#option1').is(':checked')) {\r\n        let startPage = modal.getRoot().find('#startPage').val();\r\n        let endPage = modal.getRoot().find('#endPage').val();\r\n\r\n        // AJAX call to send data to the server.\r\n        Ajax.call([{\r\n            methodname: 'mod_homework_save_homework_literature',\r\n            args: {\r\n                inputfield: inputField.value,\r\n                startpage: startPage,\r\n                endpage: endPage,\r\n                homework: currentHomework,\r\n            },\r\n            done: function() {\r\n                // Close the modal after successful submission.\r\n                modal.hide();\r\n            },\r\n            fail: function(error) {\r\n                throw new Error(`Failed to save data: ${error}`);\r\n            }\r\n        }]);\r\n    } else if (modal.getRoot().find('#option2').is(':checked')) {\r\n        let link = modal.getRoot().find('#link').val();\r\n\r\n        // AJAX call to send data to the server.\r\n        Ajax.call([{\r\n            methodname: 'mod_homework_save_homework_link',\r\n            args: {\r\n                inputfield: inputField.value,\r\n                link: link,\r\n                homework: currentHomework,\r\n            },\r\n            done: function() {\r\n                // Close the modal after successful submission.\r\n                modal.hide();\r\n            },\r\n            fail: function(error) {\r\n                throw new Error(`Failed to save data: ${error}`);\r\n            }\r\n        }]);\r\n    }\r\n};\r\n"],"names":["_interopRequireDefault","e","__esModule","default","_regeneratorRuntime","t","r","Object","prototype","n","hasOwnProperty","o","defineProperty","value","i","Symbol","a","iterator","c","asyncIterator","u","toStringTag","define","enumerable","configurable","writable","wrap","Generator","create","Context","makeInvokeMethod","tryCatch","type","arg","call","h","l","f","s","y","GeneratorFunction","GeneratorFunctionPrototype","p","this","d","getPrototypeOf","v","values","g","defineIteratorMethods","forEach","_invoke","AsyncIterator","invoke","_typeof","resolve","__await","then","callInvokeWithMethodAndArg","Error","done","method","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","TypeError","resultName","next","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","isNaN","length","displayName","isGeneratorFunction","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","keys","reverse","pop","prev","charAt","slice","stop","rval","handle","complete","finish","delegateYield","asyncGeneratorStep","_asyncToGenerator","arguments","apply","_next","_throw","_jquery","_ajax","_modal_homework","_modal_events","_exports","init","_ref","_callee2","cmid","title","currentHomework","_context2","$","on","_done","Ajax","methodname","args","_callee","response","modal","_context","MyModal","body","concat","html","large","removeOnClose","getRoot","ModalEvents","shown","startPageInput","find","endPageInput","radioButtons","testTextarea","testLink","validatePageRange","startPage","parseInt","endPage","setCustomValidity","toggleInputs","document","getElementById","checked","style","display","addEventListener","each","_","radio","show","preventDefault","handleFormSubmit","destroy","_x4","fail","error","_x","_x2","_x3","inputField","reportValidity","event","is","val","inputfield","startpage","endpage","homework","hide","link"],"mappings":"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"}
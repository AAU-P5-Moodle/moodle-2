{"version":3,"file":"homeworkchooserdelete.min.js","sources":["../src/homeworkchooserdelete.js"],"sourcesContent":["// homeworkchooserdelete.js\n\nimport $ from 'jquery';\nimport Ajax from 'core/ajax';\n\n/**\n * Initializes the Homework Delete Modal.\n *\n * @param {int} cmid\n * @param {array} homeworkids\n * @returns {Promise<void>}\n */\nexport const init = async (cmid, homeworkids) => {\n    Object.values(homeworkids).forEach(homeworkid => {\n        $('#delete-homework-chooser-' + homeworkid.id).on('click', () => {\n            // Show a confirmation alert\n            const confirmDeletion = confirm(\"Are you sure you want to delete this homework record? This action cannot be undone.\");\n\n            // Proceed only if the user confirms\n            if (confirmDeletion) {\n                Ajax.call([{\n                    methodname: 'mod_homework_delete_homework_material',\n                    args: {\n                        id: homeworkid.id,\n                        fileid: (homeworkid.file_id) ? homeworkid.file_id : null,\n                    },\n                    done: async function() {\n                        console.log(\"Homework record deleted successfully.\");\n                        location.reload();\n                    },\n                    fail: (error) => {\n                        console.error(\"Failed to delete homework record:\", error);\n                    }\n                }]);\n            }\n        });\n    });\n};\n"],"names":["_interopRequireDefault","e","__esModule","default","_jquery","_ajax","_exports","init","async","cmid","homeworkids","Object","values","forEach","homeworkid","$","id","on","confirm","Ajax","call","methodname","args","fileid","file_id","done","console","log","location","reload","fail","error"],"mappings":"+GAG6B,SAAAA,uBAAAC,GAAAA,OAAAA,GAAAA,EAAAC,WAAAD,EAAAE,CAAAA,QAAAF,EAAA,8EAD7BG,QAAAJ,uBAAAI,SACAC,MAAAL,uBAAAK,OAkCEC,SAAAC,KAzBkBC,MAAOC,KAAMC,eAC7BC,OAAOC,OAAOF,aAAaG,SAAQC,cAC/B,EAAAC,QAACZ,SAAC,4BAA8BW,WAAWE,IAAIC,GAAG,SAAS,KAE/BC,QAAQ,wFAI5BC,MAAIhB,QAACiB,KAAK,CAAC,CACPC,WAAY,wCACZC,KAAM,CACFN,GAAIF,WAAWE,GACfO,OAAST,WAAWU,QAAWV,WAAWU,QAAU,MAExDC,KAAMjB,iBACFkB,QAAQC,IAAI,yCACZC,SAASC,QACZ,EACDC,KAAOC,QACHL,QAAQK,MAAM,oCAAqCA,MAAM,IAGrE,GACF,GACJ,CACJ"}
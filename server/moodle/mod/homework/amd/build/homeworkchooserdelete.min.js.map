{"version":3,"file":"homeworkchooserdelete.min.js","sources":["../src/homeworkchooserdelete.js"],"sourcesContent":["// homeworkchooserdelete.js (Updated Version)\n\nimport $ from 'jquery';\nimport Ajax from 'core/ajax';\nimport home from \"../../../../lib/amd/src/key_codes\";\n\n/**\n * Initializes the Homework Delete Modal.\n *\n * @param {int} cmid\n * @param {array} homeworkids\n * @returns {Promise<void>}\n */\nexport const init = async (cmid, homeworkids) => {\n    console.log(homeworkids);\n    Object.values(homeworkids).forEach(homeworkid => {\n        $('#delete-homework-chooser-' + homeworkid.id).on('click', () => {\n            // Show a confirmation alert\n            const confirmDeletion = confirm(\"Are you sure you want to delete this homework record? This action cannot be undone.\");\n\n            // Proceed only if the user confirms\n            if (confirmDeletion) {\n                Ajax.call([{\n                    methodname: 'mod_homework_delete_homework_material',\n                    args: {\n                        id: homeworkid.id,\n                        fileid: (homeworkid.file_id) ? homeworkid.file_id : null,\n                    },\n                    done: async function (response) {\n                        // Handle successful deletion here, if needed\n                        console.log(\"Homework record deleted successfully.\");\n                        location.reload();\n                    },\n                    fail: (error) => {\n                        console.error(\"Failed to delete homework record:\", error);\n                    }\n                }]);\n            }\n        });\n    });\n};\n"],"names":["_interopRequireDefault","e","__esModule","default","_jquery","_ajax","_key_codes","_exports","init","async","cmid","homeworkids","console","log","Object","values","forEach","homeworkid","$","id","on","confirm","Ajax","call","methodname","args","fileid","file_id","done","response","location","reload","fail","error"],"mappings":"8JAIqD,SAAAA,uBAAAC,GAAAA,OAAAA,GAAAA,EAAAC,WAAAD,EAAAE,CAAAA,QAAAF,EAAA,8EAFrDG,QAAAJ,uBAAAI,SACAC,MAAAL,uBAAAK,OACAC,WAAAN,uBAAAM,YAoCEC,SAAAC,KA3BkBC,MAAOC,KAAMC,eAC7BC,QAAQC,IAAIF,aACZG,OAAOC,OAAOJ,aAAaK,SAAQC,cAC/B,EAAAC,QAACf,SAAC,4BAA8Bc,WAAWE,IAAIC,GAAG,SAAS,KAE/BC,QAAQ,wFAI5BC,MAAInB,QAACoB,KAAK,CAAC,CACPC,WAAY,wCACZC,KAAM,CACFN,GAAIF,WAAWE,GACfO,OAAST,WAAWU,QAAWV,WAAWU,QAAU,MAExDC,KAAMnB,eAAgBoB,UAElBjB,QAAQC,IAAI,yCACZiB,SAASC,QACZ,EACDC,KAAOC,QACHrB,QAAQqB,MAAM,oCAAqCA,MAAM,IAGrE,GACF,GACJ,CACJ"}
define("block_homework/massdownload",["exports","core/ajax"],(function(_exports,_ajax){var e;Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_ajax=(e=_ajax)&&e.__esModule?e:{default:e};_exports.init=async()=>{if(document.querySelector(".course-section-header")){function injectDownloadButtons(){document.querySelectorAll(".course-section-header").forEach((function(header){if(header.querySelector(".massdownload-btn"))return;const button=document.createElement("button");button.textContent="Download all files",button.classList.add("massdownload-btn","btn","btn-primary"),button.style.marginRight="10px",button.style.padding="5px 10px",button.style.cursor="pointer",button.addEventListener("click",(function(){console.log("hello"),_ajax.default.call([{methodname:"block_homework_get_files",args:{files:"hello"},done:function(response){let homework=JSON.parse(response.homework);console.log(homework)},fail:function(error){throw console.log(error),new Error(`ERROR: ${error}`)}}])})),header.prepend(button)}))}console.log("Script loaded: monitoring for course-section-header elements");new MutationObserver(injectDownloadButtons).observe(document.body,{childList:!0,subtree:!0}),injectDownloadButtons()}}}));

//# sourceMappingURL=massdownload.min.js.map
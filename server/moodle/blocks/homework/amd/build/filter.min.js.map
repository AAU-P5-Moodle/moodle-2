{"version":3,"file":"filter.min.js","sources":["../src/filter.js"],"sourcesContent":["import $ from 'jquery';\r\nimport Ajax from 'core/ajax';\r\n/**\r\n * Homework/amd/src/filter.js\r\n *\r\n * @package\r\n * @copyright 2024, cs-24-sw-5-13 <cs-24-sw-5-13@student.aau.dk>\r\n * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\r\n *\r\n */\r\n\r\nexport const init = async() => {\r\n    let courses;\r\n    Ajax.call([{\r\n        methodname: 'block_homework_get_courses',\r\n        args: {},\r\n        done: async function(response) {\r\n            courses = JSON.parse(response.courses);\r\n            for (const course in courses) {\r\n                $('#filter').append('<option value=\"' + courses[course].fullname + '\">' + courses[course].fullname + '</option>');\r\n            }\r\n        },\r\n        fail: (error) => {\r\n            throw new Error(`Failed to find courses: ${error}`);\r\n        }\r\n    }]);\r\n    $('#filter').on('change', () => {\r\n        Ajax.call([{\r\n            methodname: 'block_homework_filter_homework',\r\n            args: {filter: $('#filter').val()},\r\n            done: async function(response) {\r\n                let homeworks = JSON.parse(response.homework);\r\n                document.getElementById(\"outer-box\").innerHTML = \"\";\r\n                homeworks.forEach((homework) => {\r\n                    console.log(homework);\r\n                    let box = document.createElement(\"div\");\r\n                    box.classList.add(\"infobox\");\r\n\r\n                    let h22 = document.createElement(\"h2\");\r\n                    h22.innerHTML = `${homework.course}`;\r\n                    box.appendChild(h22);\r\n\r\n                    let h2 = document.createElement(\"h2\");\r\n                    h2.innerHTML = `${homework.name}`;\r\n                    box.appendChild(h2);\r\n\r\n                    let h3 = document.createElement(\"h3\");\r\n                    h3.innerHTML = homework.duedate;\r\n                    box.appendChild(h3);\r\n\r\n                    let p = document.createElement(\"p\");\r\n                    p.innerHTML = `${homework.intro}`;\r\n                    box.appendChild(p);\r\n\r\n                    let button = document.createElement(\"button\");\r\n                    button.classList.add(\"Timebutton\");\r\n                    button.innerHTML = \"Time\";\r\n                    box.appendChild(button);\r\n\r\n                    document.getElementById(\"outer-box\").appendChild(box);\r\n                });\r\n            },\r\n            fail: (error) => {\r\n                console.log(error);\r\n                throw new Error(`Failed to find filtered homework: ${error}`);\r\n            }\r\n        }]);\r\n    });\r\n};\r\n"],"names":["_interopRequireDefault","e","__esModule","default","_jquery","_ajax","_exports","init","async","courses","Ajax","call","methodname","args","done","response","JSON","parse","course","$","append","fullname","fail","error","Error","on","filter","val","homeworks","homework","document","getElementById","innerHTML","forEach","console","log","box","createElement","classList","add","h22","appendChild","h2","name","h3","duedate","p","intro","button"],"mappings":"kGAC6B,SAAAA,uBAAAC,GAAAA,OAAAA,GAAAA,EAAAC,WAAAD,EAAAE,CAAAA,QAAAF,EAAA;;;;;;;;kFAD7BG,QAAAJ,uBAAAI,SACAC,MAAAL,uBAAAK,OAmEEC,SAAAC,KAzDkBC,UAChB,IAAIC,QACJC,MAAIP,QAACQ,KAAK,CAAC,CACPC,WAAY,6BACZC,KAAM,CAAE,EACRC,KAAMN,eAAeO,UACjBN,QAAUO,KAAKC,MAAMF,SAASN,SAC9B,IAAK,MAAMS,UAAUT,SACjB,EAAAU,QAAAA,SAAE,WAAWC,OAAO,kBAAoBX,QAAQS,QAAQG,SAAW,KAAOZ,QAAQS,QAAQG,SAAW,YAE5G,EACDC,KAAOC,QACH,MAAM,IAAIC,MAAM,2BAA2BD,QAAQ,MAG3D,EAAAJ,QAAAA,SAAE,WAAWM,GAAG,UAAU,KACtBf,MAAIP,QAACQ,KAAK,CAAC,CACPC,WAAY,iCACZC,KAAM,CAACa,QAAQ,EAAAP,QAAChB,SAAC,WAAWwB,OAC5Bb,KAAMN,eAAeO,UACjB,IAAIa,UAAYZ,KAAKC,MAAMF,SAASc,UACpCC,SAASC,eAAe,aAAaC,UAAY,GACjDJ,UAAUK,SAASJ,WACfK,QAAQC,IAAIN,UACZ,IAAIO,IAAMN,SAASO,cAAc,OACjCD,IAAIE,UAAUC,IAAI,WAElB,IAAIC,IAAMV,SAASO,cAAc,MACjCG,IAAIR,UAAY,GAAGH,SAASX,SAC5BkB,IAAIK,YAAYD,KAEhB,IAAIE,GAAKZ,SAASO,cAAc,MAChCK,GAAGV,UAAY,GAAGH,SAASc,OAC3BP,IAAIK,YAAYC,IAEhB,IAAIE,GAAKd,SAASO,cAAc,MAChCO,GAAGZ,UAAYH,SAASgB,QACxBT,IAAIK,YAAYG,IAEhB,IAAIE,EAAIhB,SAASO,cAAc,KAC/BS,EAAEd,UAAY,GAAGH,SAASkB,QAC1BX,IAAIK,YAAYK,GAEhB,IAAIE,OAASlB,SAASO,cAAc,UACpCW,OAAOV,UAAUC,IAAI,cACrBS,OAAOhB,UAAY,OACnBI,IAAIK,YAAYO,QAEhBlB,SAASC,eAAe,aAAaU,YAAYL,IAAI,GAE5D,EACDd,KAAOC,QAEH,MADAW,QAAQC,IAAIZ,OACN,IAAIC,MAAM,qCAAqCD,QAAQ,IAElE,GACL,CACJ"}
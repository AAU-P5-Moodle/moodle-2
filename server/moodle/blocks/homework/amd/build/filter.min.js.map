{"version":3,"file":"filter.min.js","sources":["../src/filter.js"],"sourcesContent":["import $ from 'jquery';\nimport Ajax from 'core/ajax';\n/**\n * Homework/amd/src/filter.js\n *\n * @package\n * @copyright 2024, cs-24-sw-5-13 <cs-24-sw-5-13@student.aau.dk>\n * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n *\n */\n\nexport const init = async() => {\n    Ajax.call([{\n        methodname: 'block_homework_get_courses',\n        args: {},\n        done: async function(response){\n            let courses = JSON.parse(response.courses);\n            for (const course in courses) {\n                $('#filter').append('<option value=\"' + courses[course].fullname + '\">' + courses[course].fullname + '</option>');\n            }\n        },\n        fail: (error) => {\n            console.log(error);\n            throw new Error(`Failed to find courses: ${error}`);\n        }\n    }]);\n    $('#filter').on('change', () => {\n        Ajax.call([{\n            methodname: 'block_homework_filter_homework',\n            args: {filter: $('#filter').val()},\n            done: async function(response) {\n                let homework = JSON.parse(response.homework);\n                console.log(response);\n                console.log($('#filter').val());\n                document.getElementById(\"outer-box\").innerHTML = \"\";\n                homework.forEach((homework) => {\n                    let box = document.createElement(\"div\");\n                    box.classList.add(\"infobox\");\n\n                    let h2 = document.createElement(\"h2\");\n                    h2.innerHTML = `name: ${homework.name}`;\n                    box.appendChild(h2);\n\n                    let p = document.createElement(\"p\");\n                    p.innerHTML = \"Intro: \";\n                    box.appendChild(p);\n\n                    document.getElementById(\"outer-box\").appendChild(box);\n                });\n            },\n            fail: (error) => {\n                console.log(error);\n                throw new Error(`Failed to find filtered homework: ${error}`);\n            }\n        }]);\n    });\n};\n"],"names":["_interopRequireDefault","e","__esModule","default","_jquery","_ajax","_exports","init","async","Ajax","call","methodname","args","done","response","courses","JSON","parse","course","$","append","fullname","fail","error","console","log","Error","on","filter","val","homework","document","getElementById","innerHTML","forEach","box","createElement","classList","add","h2","name","appendChild","p"],"mappings":"kGAC6B,SAAAA,uBAAAC,GAAAA,OAAAA,GAAAA,EAAAC,WAAAD,EAAAE,CAAAA,QAAAF,EAAA;;;;;;;;kFAD7BG,QAAAJ,uBAAAI,SACAC,MAAAL,uBAAAK,OAuDEC,SAAAC,KA7CkBC,UAChBC,MAAIN,QAACO,KAAK,CAAC,CACPC,WAAY,6BACZC,KAAM,CAAE,EACRC,KAAML,eAAeM,UACjB,IAAIC,QAAUC,KAAKC,MAAMH,SAASC,SAClC,IAAK,MAAMG,UAAUH,SACjB,EAAAI,QAAAA,SAAE,WAAWC,OAAO,kBAAoBL,QAAQG,QAAQG,SAAW,KAAON,QAAQG,QAAQG,SAAW,YAE5G,EACDC,KAAOC,QAEH,MADAC,QAAQC,IAAIF,OACN,IAAIG,MAAM,2BAA2BH,QAAQ,MAG3D,EAAAJ,QAAAA,SAAE,WAAWQ,GAAG,UAAU,KACtBlB,MAAIN,QAACO,KAAK,CAAC,CACPC,WAAY,iCACZC,KAAM,CAACgB,QAAQ,EAAAT,QAAChB,SAAC,WAAW0B,OAC5BhB,KAAML,eAAeM,UACjB,IAAIgB,SAAWd,KAAKC,MAAMH,SAASgB,UACnCN,QAAQC,IAAIX,UACZU,QAAQC,KAAI,EAAAN,QAAChB,SAAC,WAAW0B,OACzBE,SAASC,eAAe,aAAaC,UAAY,GACjDH,SAASI,SAASJ,WACd,IAAIK,IAAMJ,SAASK,cAAc,OACjCD,IAAIE,UAAUC,IAAI,WAElB,IAAIC,GAAKR,SAASK,cAAc,MAChCG,GAAGN,UAAY,SAASH,SAASU,OACjCL,IAAIM,YAAYF,IAEhB,IAAIG,EAAIX,SAASK,cAAc,KAC/BM,EAAET,UAAY,UACdE,IAAIM,YAAYC,GAEhBX,SAASC,eAAe,aAAaS,YAAYN,IAAI,GAE5D,EACDb,KAAOC,QAEH,MADAC,QAAQC,IAAIF,OACN,IAAIG,MAAM,qCAAqCH,QAAQ,IAElE,GACL,CACJ"}